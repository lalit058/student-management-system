{% load static %}
<aside class="main-sidebar sidebar-dark-primary elevation-4">
  <!-- Sidebar -->
  <div class="sidebar">
    <!-- Sidebar user panel (optional) -->
    <div class="user-panel mt-3 pb-3 mb-3 d-flex">
      <div class="image">
        {% if user.parents.profile_pic %}
        <img src="{{ user.parents.profile_pic }}" class="img-circle elevation-2" alt="User Image">
        {% else %}
        <img src="{% static 'dist/img/user2-160x160.jpg' %}" class="img-circle elevation-2" alt="User Image">
        {% endif %}
      </div>
      <div class="info">
        {% if user.parents.id %}
        <a href="{% url 'parent_profile' %}" class="d-block">
          {{ user.username }}
        </a>
        {% else %}
        <span class="d-block text-white">{{ user.username }}</span>
        {% endif %}
        <small class="text-white">Parent</small>
      </div>
    </div>

    <!-- Sidebar Menu -->
    <nav class="mt-2">
      <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
        <!-- Dashboard -->
        <li class="nav-item">
          {% url 'parent_home' as parent_home %}
          <a href="{{ parent_home }}" class="nav-link {% if request.path == parent_home %} active {% endif %}">
            <i class="nav-icon fas fa-tachometer-alt"></i>
            <p>Dashboard</p>
          </a>
        </li>

        <!-- Attendance Section -->
        <li class="nav-header">ATTENDANCE</li>
        <li class="nav-item">
          {% url 'parent_view_attendance' as parent_view_attendance %}
          {% url 'parent_view_attendance_post' as parent_view_attendance_post %}
          <a href="{{ parent_view_attendance }}"
            class="nav-link {% if request.path == parent_view_attendance %} active {% endif %} {% if request.path == parent_view_attendance_post %} active {% endif %}">
            <i class="nav-icon fas fa-calendar-check"></i>
            <p>View Attendance</p>
          </a>
        </li>

        <!-- Results Section -->
        <li class="nav-header">ACADEMICS</li>
        <li class="nav-item">
          {% url 'parent_view_result' as parent_view_result %}
          <a href="{{ parent_view_result }}"
            class="nav-link {% if request.path == parent_view_result %} active {% endif %}">
            <i class="nav-icon fas fa-graduation-cap"></i>
            <p>Grade Card</p>
          </a>
        </li>

        <!-- Feedback Section -->
        <li class="nav-header">FEEDBACK</li>
        <li class="nav-item">
          {% url 'parent_feedback' as parent_feedback %}
          <a href="{{ parent_feedback }}"
            class="nav-link {% if request.path == parent_feedback %} active {% endif %}">
            <i class="nav-icon fas fa-comment-alt"></i>
            <p>Feedback Message</p>
          </a>
        </li>

        <!-- Notification Section -->
        <li class="nav-header">NOTIFICATIONS</li>
        <li class="nav-item">
          {% url 'parent_all_notification' as parent_all_notification %}
          <a href="{{ parent_all_notification }}"
            class="nav-link {% if request.path == parent_all_notification %} active {% endif %}">
            <i class="nav-icon fas fa-bell"></i>
            <p>
              Notifications
              {% if request.user.parents.get_unread_notification_count > 0 %}
              <span class="badge badge-danger right">{{ request.user.parents.get_unread_notification_count }}</span>
              {% endif %}
            </p>
          </a>
        </li>

        <!-- Account Section -->
        <li class="nav-header">ACCOUNT</li>
        <li class="nav-item">
          {% url 'parent_profile' as parent_profile %}
          <a href="{{ parent_profile }}" class="nav-link {% if request.path == parent_profile %} active {% endif %}">
            <i class="nav-icon fas fa-user"></i>
            <p>My Profile</p>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'logout' %}" class="nav-link">
            <i class="nav-icon fas fa-sign-out-alt"></i>
            <p>Logout</p>
          </a>
        </li>
      </ul>
    </nav>
    <!-- /.sidebar-menu -->
  </div>
  <!-- /.sidebar -->
</aside>

<style>
  .user-panel img {
    height: 50px;
    width: 50px;
    object-fit: cover;
  }
  .nav-header {
    padding: 8px 8px 8px 20px;
    font-size: 12px;
    color: #6c757d;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
</style>